<div id="header" style="" class="w3-aqua" ng-cloak>
  <h1 id="mzd-title" class="mazda"> MZD-AIO-TI
    <button id="compileButton" class="w3-cyan w3-small w3-btn w3-ripple w3-hover-light-green" data-toggle="tooltip" data-placement="auto bottom" title="{{menu.start.toolTip}}" ng-click="startCompile()"><span class="icon-genius"></span> {{menu.start.label}} <span class="icon-lab2"></span></button>
    <div class="w3-dropdown-click">
    </h1>
    <button id="helpDropBtn" onclick="helpDropdown()" class="w3-btn w3-large helphints"><span class="icon-cog3"></span></button>
    <div id="helpDrop" class="w3-dropdown-content w3-card-8" style="position:absolute;">
      <div ng-include="'help.htm'" id="helpDropMenu" ng-class="user.flipOption" onclick="" class="menu-step" style="position: absolute;"></div>
    </div>
  </div>
  <div id="notices"></div>
  <header>
    <span id="openNav" class="w3-opennav w3-xxlarge w3-display-topleft w3-padding w3-text-black" onclick="w3_open()" style="position:fixed">&#9776;</span>
    <h1 id="mzd-title" class="mazda" style="visibility:hidden;">MZD-AIO-TI</h1>
    <span id="openSidePanel" class="w3-opennav w3-xxlarge w3-display-topright w3-padding w3-text-black w3-hide" onclick="w3_openright()" style="position:fixed">&#9776;</span>
  </header>
  <div class="w3-container mainContainer" ng-cloak>
    <section id="main" class="main">
      <section id="step3" id="mainOptions" class="options container w3-row">
        <div id="step4" class="w3-container form-group1 col-md-3 col-sm-4 col-xs-12">
          <div class="menuCheck bg">
            <input type="checkbox" value="background-img" id="background" name="background" checklist-model="user.mainOps" checklist-value="mainOps.background.id"/>
            <label for="background" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.background.toolTip | htmlToPlaintext}}"></label>
          </div>
          <span class="bgLabel" style=""><span class="icon-pictures"></span> {{mainOps.background.label}}
        </span>
        <br />
        <div class="menuCheck colors">
          <input type="checkbox" value="colors" id="colors" name="colors" checklist-model="user.mainOps" checklist-value="mainOps.colors.id" />
          <label for="colors" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.colors.toolTip | htmlToPlaintext}}"></label>
        </div>
        <span class="colorLabel" style=""><span class="icon-droplet2"></span> {{mainOps.colors.label}}
      </span>
    </div>
    <div class="w3-container col-md-3 col-sm-3 col-xs-6 form-group1">
      <div class="menuCheck backup">
        <input type="checkbox" value="backup" id="backupJCI" name="backupJCI" checklist-model="user.mainOps" checklist-value="mainOps.backup.id" />
        <label for="backupJCI" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.backup.toolTip | htmlToPlaintext}}"></label>
      </div>
      <span class="backupLabel" style=""><span class="icon-save2"></span> {{mainOps.backup.label}}
    </span>
    <br />
    <div class="menuCheck sdcid">
      <input type="checkbox" value="sdcid" id="sdcid" name="sdcid" checklist-model="user.mainOps" checklist-value="mainOps.sdcid.id" />
      <label for="sdcid" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.sdcid.toolTip | htmlToPlaintext}}"></label>
    </div>
    <span class="sdcidLabel" style=""><span class="icon-sd_storage"></span> {{mainOps.sdcid.label}}
  </span>
</div>
<div class="w3-container form-group1 col-md-3 col-sm-4 col-xs-6">
  <div class="menuCheck wifi">
    <input type="checkbox" value="wifi" id="wifi" name="wifi" checklist-model="user.mainOps" checklist-value="mainOps.wifi.id" />
    <label for="wifi" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.wifi.toolTip | htmlToPlaintext}}"></label>
  </div>
  <span class="wifiLabel" style=""><span class="icon-wifi"></span> {{mainOps.wifi.label}}
</span>
<br />
<div class="menuCheck ssh">
  <input type="checkbox" value="ssh" id="sshbringback" name="sshbringback" checklist-model="user.mainOps" checklist-value="mainOps.sshbringback.id" />
  <label for="sshbringback" data-toggle="tooltip" data-placement="auto bottom" title="{{mainOps.sshbringback.toolTip | htmlToPlaintext}}"></label>
</div>
<span class="sshLabel" style=""><span class="icon-podcast"></span> {{mainOps.sshbringback.label}}
</span>
<!--select ng-model="selectedLanguage"
ng-options="language as (language.lang) for language in languages track by language.lang">
</select-->
</div>
<!--a href="http://link.trevelopment.com/mazdaatweaks" class="w3-btn w3-black w3-ripple">Docs</a-->
<!--a href="speedometer_readme.md" data-featherlight="ajax" class="w3-btn w3-black w3-ripple">Docs</a>
</section>
<div id="step4" class="w3-container w3-center">
<div id="result"></div-->
<span class="twkfltr"><input type="text" ng-model="twkfltr" class="w3-input" placeholder="Tweak Filter"></span>
</div>
<div class="w3-container w3-row w3-section">
<div id="options">
  <table class="w3-table w3-bordered w3-card-4 w3-col">
    <!--th class="w3-row w3-col"> Tweak Options </th-->
    <tr ng-repeat="option in options | filter:twkfltr"  class="w3-hover-pale-blue w3-tooltip w3-half">
      <td>
        <div class="install-check">
          <input id="IN{{option.id}}" type="checkbox" name="{{option.OpName}}" checklist-model="user.options" checklist-value="option.id" ng-disabled="user.options.indexOf({{option.id}}+100) != -1">
          <label for="IN{{option.id}}" data-toggle="tooltip" data-placement=" auto left" title="{{menu.install.label}} {{option.OpName}}"></label>
        </div>
        <div class="uninstall-check">
          <input id="UN{{option.id}}" type="checkbox" name="{{option.OpName}}" checklist-model="user.options" checklist-value="option.id+100" ng-disabled="user.options.indexOf({{option.id}}) != -1">
          <label for="UN{{option.id}}" data-toggle="tooltip" data-placement=" auto right" title="{{menu.uninstall.label}} {{option.OpName}}"></label>
        </div>
      </td>
      <td>
        <label id="label-{{option.id}}" class="w3-validate" for="IN{{option.id}}" value="option.OpName" data-toggle="tooltip" data-placement="auto bottom" title="{{option.toolTip}}">{{option.OpName}}</label>
        <span class="w3-right inline-safety sfty" ng-class="option.safetylvl" ng-bind="option.safetylvl"></span>
      </td>
    </tr>
  </table>
  <div id="bg-img" ng-class="{'w3-hide': user.mainOps.indexOf(2) == -1}" ng-cloak>
    <div id="bgPickTitle" style="text-align:center;"><h2>Chosen Background Image: </h2><br>
    </div>
    <div id="imgNavButtons" class="w3-center">
      <div class="w3-section">
        <script>var imgpos = 0;</script>
        <button class="w3-btn" onclick="imgpos--;$('#imgframe').scrollLeft(imgpos*800)">❮ Prev</button>
        <button class="w3-btn" onclick="imgpos++;$('#imgframe').scrollLeft(imgpos*800)">Next ❯</button>
      </div>
    </div>
    <div id="img2use" class="w3-center">
      <div id="bgimg" onclick='document.getElementById("backgroundPreviewModal").style.display = "block"' style="cursor:pointer;">
        <div id="imgframe" class="imgframe"><img src="../../background/background.png" alt="Choose A Background" title="Your Infotainment Background" onerror="$(this).hide()"/></div>
        <a class="w3-btn w3-ripple w3-teal w3-center" style="margin-top:200px" href="" onclick="ipc.send('open-file-bg')"><span class="icon-image2"></span> Select Background Image</a>
      </div>
    </div>
    <div id='selected-file'></div>
    <div id="imgNavButtons" class="w3-center w3-hide">
      <div class="w3-section">
        <button class="w3-btn" onclick="imgpos--;$('#imgframe').scrollLeft(imgpos*800)">❮ Prev</button>
        <button class="w3-btn" onclick="imgpos++;$('#imgframe').scrollLeft(imgpos*800)">Next ❯</button>
      </div>
    </div>
    <br>
    <br>
  </div>
</div>
<nav id="sidePanel" class="sidePanel w3-card-4 w3-sidenav w3-white w3-animate-right">
  <a href="javascript:void(0)" onclick="w3_closeright();" title="Hide Side Panel" class="w3-closebtn w3-closenav w3-large w3-hide-small">&times;</a>
  <!--div id="debugDiv" class="w3-padding" style="display:none;"><h5>Console: </h5><span class="w3-closebtn" onclick="$(this).parent().hide()">&times;</span></div-->
  <span id="alltoggle" class="icon-minus-alt" onclick="toggleAllOps()" title="Toggle All Extra Options" style="cursor:pointer"></span> <h3>Selected Tweaks:</h3>
  <ul>
    <li class="extrasMessage backupJCI" ng-class="{'hide': user.mainOps.indexOf(1) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.backup.label}}
        <span class="w3-tag w3-text w3-hlpmsg draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}" style="width: 400px;">
          <span class="w3-closebtn">&times;</span><span class="sfty {{mainOps.backup.safetylvl}}">{{mainOps.backup.safetylvl}}</span><span ng-bind-html="mainOps.backup.toolTip"></span>
        </span>
      </div>
    </li>
    <li class="extrasMessage enableWIFI" ng-class="{'hide': user.mainOps.indexOf(0) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.wifi.label}}
        <span class="w3-tag w3-text w3-hlpmsg w3-third draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}" style="width: 400px;">
          <span class="w3-closebtn">&times;</span><span class="sfty {{mainOps.wifi.safetylvl}}">{{mainOps.wifi.safetylvl}}</span><span ng-bind-html="mainOps.wifi.toolTip"></span>
        </span>
      </div>
    </li>
    <li class="extrasMessage sd-cid" ng-class="{'hide': user.mainOps.indexOf(5) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.sdcid.label}}
        <span class="w3-tag w3-text w3-hlpmsg w3-third draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}" style="width: 400px;">
          <span class="w3-closebtn">&times;</span><span class="sfty {{mainOps.sdcid.safetylvl}}">{{mainOps.sdcid.safetylvl}}</span><span ng-bind-html="mainOps.sdcid.toolTip"></span>
        </span>
      </div>
    </li>
    <li class="extrasMessage SSHbringback" ng-class="{'hide': user.mainOps.indexOf(4) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.sshbringback.label}}
        <span class="w3-tag w3-text w3-hlpmsg w3-third draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}" style="width: 500px;">
          <span class="w3-closebtn">&times;</span><span class="sfty {{mainOps.sshbringback.safetylvl}}">{{mainOps.sshbringback.safetylvl}}</span><span ng-bind-html="mainOps.sshbringback.toolTip"></span>
        </span>
      </div>
    </li>
    <li class="extrasMessage customBackground" ng-class="{'hide': user.mainOps.indexOf(2) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.background.label}}
        <span class="w3-tag w3-text w3-half w3-hlpmsg draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}"  style="width: 500px;">
          <span class="w3-closebtn ">&times;</span><span class="sfty {{mainOps.background.safetylvl}}">{{mainOps.background.safetylvl}}</span><span ng-bind-html="mainOps.background.toolTip"></span><br><span ng-bind-html="mainOps.backgroundrotator.toolTip"></span>
        </span>
      </div>
      <div id="holder" class="w3-container"  ng-class="{'hide': user.mainOps.indexOf(2) == -1}">
        <span class="toggleExtra icon-minus-square" onclick="toggleOps(this)" title='Show/Hide'></span>
        <table ng-include="'opts/bgoptions.htm'" id="custbgOptions" class="w3-table w3-bordered w3-card-2 w3-col" style="">
        </table>
      </div>
    </li>
    <li class="extrasMessage colorScheme" ng-class="{'hide': user.mainOps.indexOf(3) == -1}">
      <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{mainOps.colors.label}}
        <span class="w3-tag w3-text w3-half w3-hlpmsg draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}">
          <span class="w3-closebtn">&times;</span><span class="sfty {{mainOps.colors.safetylvl}}">{{mainOps.colors.safetylvl}}</span><img ng-src='{{mainOps.colors.img}}' /><span ng-bind-html="mainOps.colors.toolTip"></span>
        </span>
      </div>
      <span class="useColorBG w3-right w3-half"><input class="w3-check" type="checkbox" name="useColorBG" ng-checked="user.useColorBg" ng-model="user.useColorBG"> Use Color Scheme Background</span>
      <div class="w3-container" ng-class="{'hide': user.mainOps.indexOf(3) == -1}">
        <span class="toggleExtra icon-minus-square" onclick="toggleOps(this)" title='Show/Hide'></span>
        <table ng-include="'opts/coloroptions.htm'" id="colorOptions" class="w3-table w3-bordered w3-card-2 w3-col" style="display:inline-block;">
        </table>
      </div>
    </li>
    <li class="uninstallMessage"
    ng-repeat="opt in options | filter:twkfltr"
    ng-class="{'hide': user.options.indexOf(opt.id+100) == -1}">
    <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{opt.DEINST}}
      <span id="un{{opt.id}}-msg" class="w3-tag w3-text w3-hlpmsg draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}">
        <span class="w3-closebtn">&times;</span><span class="sfty {{opt.safetylvl}}">{{opt.safetylvl}}</span><img ng-src='./files/screenshots/{{opt.img}}' onerror='$(this).hide()'/><span ng-bind-html="opt.toolTip"></span>
      </span>
    </div>
  </li>
  <li class="installMessage"
  ng-repeat="opt in options | filter:twkfltr"
  ng-class="{'hide': user.options.indexOf(opt.id) == -1}">
  <div class="w3-tooltip" onclick="helpMessageFreeze(this)" title="{{menu.clickforhelp.label}}">{{opt.INST}}
    <span id="in{{opt.id}}-msg" class="w3-tag w3-text w3-hlpmsg draggable ui-widget-content" title="{{menu.close.label}}" ng-class="{'w3-hide': user.menu.indexOf(9) != -1}">
      <span class="w3-closebtn">&times;</span><span class="sfty {{opt.safetylvl}}">{{opt.safetylvl}}</span><img ng-src='./files/screenshots/{{opt.img}}' onerror='$(this).hide()'/><span ng-bind-html="opt.toolTip"></span>
    </span>
  </div>
  <div  ng-if="opt.extraOps" class="w3-container">
    <span class="toggleExtra icon-minus-square" onclick="toggleOps(this)" title='Show/Hide'></span>
    <table ng-include="'opts/'+opt.id+'options.htm'" id="custOptions{{opt.id}}" class="w3-bordered w3-card-2 w3-col" style="display:inline-block;">
    </table>
  </div>
</li>
</ul>
</div>
</div>
</nav>
<div id="backgroundPreviewModal" class="w3-modal" style="margin-top:30px;background-color: rgba(0,0,0,0.7)!important;">
<span id="closePrevew" onclick="$(this).parent().fadeOut(200)" class="w3-closebtn w3-hover-red w3-text-white w3-xxlarge w3-container w3-text-shadow w3-opacity w3-display-right w3-margin hide-sm" data-toggle="tooltip" data-placement="bottom" title="{{menu.close.label}}">×</span>
<div class="w3-modal-content w3-animate-zoom">
  <div id="imgmodal" class="imgframe w3-card-16" width="800" height="480">
    <img src="../../background/background.png" alt="Choose A Background" title="A Preview of Your Infotainment Background" onerror="$(this).hide()">
  </div>
  <span id="closePrevew" onclick="$('#backgroundPreviewModal').fadeOut(400)" class="w3-closebtn w3-hover-deep-orange w3-text-blue w3-xxlarge w3-display-topright w3-margin w3-text-shadow w3-opacity" data-toggle="tooltip" data-placement="bottom" title="{{menu.close.label}}">×</span>
</div>
<div id="caption" class="w3-container">
  <div id="imgNavButtons" class="w3-center">
    <div class="w3-section">
      <button class="w3-btn w3-card-8 w3-grey w3-hover-teal" onclick="imgpos--;$('#imgmodal').scrollLeft(imgpos*800)">❮ Prev</button>
      <button class="w3-btn w3-card-8 w3-grey w3-hover-teal" onclick="imgpos++;$('#imgmodal').scrollLeft(imgpos*800)">Next ❯</button>
    </div>
  </div>
</div>
<div id="closeOverlay" onclick="$(this).parent().hide()" width="2000" height="1000" style="position:fixed;width:100%;height:100%;"></div>
</div>
<!-- Test Panel (Remove for distribution version)  -->
<div id="TestPanel" class="testpanel w3-display-bottomleft w3-dark-grey w3-padding w3-card-2 draggable w3-hide" style="bottom:-60px;background:rgba(255, 255, 255, 0.8);position:fixed;">
<span class="w3-closebtn " onclick="$(this).parent().toggleClass('w3-hide')">&times;</span>
<center style="margin-bottom:100px">
  <a href="" onclick="ipc.send('open-info-window')">INFO</a>
  <div style="white-space:nowrap;" > user.lang {{ user.lang }}</div>
  <div style="white-space:nowrap;" > user.options {{ user.options | json }}</div>
  <div style="white-space:nowrap;" > user.mainOps {{ user.mainOps | json }}</div>
  <div style="white-space:nowrap;" > user.colors {{ user.colors}}</div>
  <div style="white-space:nowrap;" > user.useColorBG {{ user.useColorBG}}</div>
  <div style="white-space:nowrap;" > user.speedcamOps {{ user.speedcamOps}}</div>
  <div style="white-space:nowrap;" > user.d2sbOps {{ user.d2sbOps}}</div>
  <div style="white-space:nowrap;" > user.speedoOps {{ user.speedoOps | json }}</div>
  <p id="demo"></p>
</center>
</div>
<!-- END REMOVE TestPanel -->
</section>
</div>
